<html lang="en" xml:lang="en" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>00 Index</title>
        <link rel="icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="apple-touch-icon" href="/assets/images/verovio-logo-big.png"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" /><!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="/assets/css/bootstrap/css/bootstrap.min.css" type="text/css" /><!-- Optional theme -->
        <link rel="stylesheet" href="/assets/css/bootstrap/css/bootstrap-theme.min.css" type="text/css" />
        <link rel="stylesheet" href="/assets/css/fileinput.min.css" />

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/assets/css/syntax.css" />

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/assets/css/verovio.css" />
        <link rel="stylesheet" href="/assets/css/midiplayer.css" />

        <link rel="stylesheet" href="/css/verovio-site.css" />

        <script src="/assets/javascript/jquery-3.6.0.min.js" type="text/javascript" ></script>
        <script src="/assets/javascript/bootstrap.min.js" type="text/javascript" ></script>
    </head>
    <body>

        <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
     <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                </button>
            <a class="navbar-brand logo-nav" href="https://www.verovio.org/index.xhtml"><img src="/assets/images/verovio-fadded-50.png" /></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                <li >
                    <a href="https://www.verovio.org/index.xhtml">Homepage</a>
                </li>
                <li class="active">
                    <a href="/index.html">Reference book</a>
                </li>
                <li >
                    <a href="https://www.verovio.org/test-suite.xhtml">Test suite</a>
                </li>
                <!--
                <li >
                    <a href="/tutorial.xhtml">Tutorial</a>
                </li>
                <li >
                    <a href="/mei-viewer.xhtml">MEI Viewer</a>
                </li>
                <li >
                    <a href="/app.html">Verovio App</a>
                </li>
                <li >
                    <a href="/musicxml.html">Other formats</a>
                </li>
                -->
                <!--
                <li class="dropdown ">
                    <a href="/" class="dropdown-toggle" data-toggle="dropdown">Plaine &amp; Easie<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                          <li><a href="/pae-examples.xhtml">Examples</a></li>
                          <li><a href="/pae-editor.xhtml">Editor</a></li>
                    </ul>
                </li>
                -->
              </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


        <div class="top-header"> 
    <div class="container" style="color: #eee; height: 140px; padding-top: 5px;">
        <h1 class="hidden-print hidden-xs">A music notation engraving library</h1> 
        <h3 class="hidden-print visible-xs">A music notation engraving library</h3> 
        <p class="hidden-print">Designed for the Music Encoding Initiative - Fast - Light - Flexible - No dependencies</p>
    </div>
</div>


        <div class="container with-footer">

            



<div class="row">
    <div class="col-md-3 sidebar-offcanvas" id="sidebar">
        <div class="toc-group">

    <a class="toc-item" href="/introduction/">Introduction</a>
    

    <a class="toc-item" href="/web-based-notation/">Tutorial 1: Web-based notation</a>
    

    <a class="toc-item" href="/interactive-notation/">Tutorial 2: Interactive notation</a>
    

    <a class="toc-item" href="/advanced-topics/">Beyond tutorials: Advanced topics</a>
    

    <a class="toc-item" href="/toolkit-reference/input-formats.html">Toolkit Reference</a>
    

    <a class="toc-item" href="/installing-or-building-from-sources/command-line.html">Installing or building from sources</a>
    

    <a class="toc-item" href="/contributing/">Contributing</a>
    

</div>
    </div>

    <div class="col-md-9">
        <a class="hidden-print" href="https://github.com/rism-digital/verovio-reference-book/edit/master/full-chapters/06-installing-or-building-from-sources.md"><button class="btn btn-xs pull-right">Edit this page</button></a>
        <h1>Installing or building from sources</h1>
        
        <p>Secret page ;-) with tests for syntax highlightingâ€¦</p>

<p>Compile <code class="language-plaintext highlighter-rouge">from</code> sources is easy.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> <span class="nt">-a</span>
<span class="nb">echo</span> <span class="s2">"Hello World!
</span></code></pre></div></div>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js"</span> <span class="na">defer</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Hello Verovio!<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"notation"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">int</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">string</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"adjustPageHeight"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nl">"breaks"</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"pageHeight"</span><span class="p">:</span><span class="mi">2970</span><span class="p">,</span><span class="w">
   </span><span class="nl">"pageWidth"</span><span class="p">:</span><span class="mi">2100</span><span class="p">,</span><span class="w">
   </span><span class="nl">"header"</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"footer"</span><span class="p">:</span><span class="s2">"none"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"scale"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span><span class="w">
   </span><span class="nl">"spacingStaff"</span><span class="p">:</span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="n">string</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">std</span><span class="p">::</span><span class="n">string</span> <span class="n">string</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;?xml-model href="https://music-encoding.org/schema/4.0.0/mei-all.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0" ?&gt;</span>
<span class="cp">&lt;?xml-model href="https://music-encoding.org/schema/4.0.0/mei-all.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron" ?&gt;</span>
<span class="nt">&lt;mei</span> <span class="na">xmlns=</span><span class="s">"http://www.music-encoding.org/ns/mei"</span> <span class="na">meiversion=</span><span class="s">"4.0.0"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;meiHead&gt;</span>
      <span class="nt">&lt;fileDesc&gt;</span>
         <span class="nt">&lt;titleStmt&gt;</span>
            <span class="nt">&lt;title&gt;</span>Measure barline example<span class="nt">&lt;/title&gt;</span>
         <span class="nt">&lt;/titleStmt&gt;</span>
         <span class="nt">&lt;pubStmt&gt;</span>
            <span class="nt">&lt;date&gt;</span>2017-05-04<span class="nt">&lt;/date&gt;</span>
         <span class="nt">&lt;/pubStmt&gt;</span>
         <span class="nt">&lt;seriesStmt&gt;</span>
            <span class="nt">&lt;title&gt;</span>Verovio test suite<span class="nt">&lt;/title&gt;</span>
         <span class="nt">&lt;/seriesStmt&gt;</span>
         <span class="nt">&lt;notesStmt&gt;</span>
            <span class="nt">&lt;annot&gt;</span>Verovio supports various types of barline for the "measure" elements. It also supports "scale" attributes on "staffDef".<span class="nt">&lt;/annot&gt;</span>
         <span class="nt">&lt;/notesStmt&gt;</span>
      <span class="nt">&lt;/fileDesc&gt;</span>
   <span class="nt">&lt;/meiHead&gt;</span>
<span class="nt">&lt;/mei&gt;</span>
</code></pre></div></div>
<h2 id="command-line-version">Command-line version</h2>

<p>Verovio codebase is C++17 compliant and is cross-platform. It has be tested on several operating systems and architectures. This sections describes how to build the command-line version of the toolkit from the command-line or using some of the most popular IDEs. There are currently no pre-build binaries of the command-line toolkit available since building it is very straight-forward.</p>

<h3 id="macos-or-linux">MacOS or Linux</h3>

<p>To build the the command-line tool, you need <a href="https://cmake.org">CMake</a> to be installed on your machine as well as a compiler supporting C++17. The commands to build are the following:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>tools
cmake ../cmake
make
</code></pre></div></div>
<p>The generates a <code class="language-plaintext highlighter-rouge">verovio</code> binary within <code class="language-plaintext highlighter-rouge">./tools</code>. You can run Verovio from there or install it. Installing it means copying the executable and the resource files to directories which paths are globally accessible. You simply need to run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>make <span class="nb">install</span>
</code></pre></div></div>
<p>If you do not install it and run it from <code class="language-plaintext highlighter-rouge">./tools</code> or from another directory, you need to use the <code class="language-plaintext highlighter-rouge">-r</code> option to set the appropriate resource directory. The parameter of the <code class="language-plaintext highlighter-rouge">-r</code> option has to be a path to the <code class="language-plaintext highlighter-rouge">./data</code> folder of the codebase.</p>

<p>Keep in mind that if you have installed, you should not run another version without re-installing it or using the <code class="language-plaintext highlighter-rouge">-r</code> options because otherwise the resources installed can be invalid. A typical problem is missing font glyphs that a newer version needs but that are not in the older version of the resources.</p>

<p>For seeing the command-line options, run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./verovio <span class="nt">--help</span>
</code></pre></div></div>

<p>(Until version 2.6.0, the cmake command was <code class="language-plaintext highlighter-rouge">cmake .</code> and not <code class="language-plaintext highlighter-rouge">cmake ../cmake</code>.)</p>

<h4 id="additional-building-options">Additional building options</h4>

<p>By default the executable is not stripped. To strip it during the installation do</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>make <span class="nb">install</span>/strip
</code></pre></div></div>

<p>For building it without Plain and Easy support (without <code>regex.h</code>), run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake ../cmake <span class="nt">-DNO_PAE_SUPPORT</span><span class="o">=</span>ON
</code></pre></div></div>

<p>To allow PAE support again, you must run the command</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake ../cmake <span class="nt">-DNO_PAE_SUPPORT</span><span class="o">=</span>OFF
</code></pre></div></div>

<p>since running <code class="language-plaintext highlighter-rouge">cmake ../cmake</code> will not clear the state of the define variable.</p>

<p>The other building options are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">NO_ABC_SUPPORT</code> for the ABC importer to be turned on/off</li>
  <li><code class="language-plaintext highlighter-rouge">NO_HUMDRUM_SUPPORT</code> for the Humdrum importer to be turned on/off</li>
  <li><code class="language-plaintext highlighter-rouge">MUSICXML_DEFAULT_HUMDRUM</code> to use the MusicXML Humdrum importer by default instead of the direct MusicXML importer</li>
  <li><code class="language-plaintext highlighter-rouge">BUILD_AS_LIBRARY</code> for Verovio to be built as dynamic shared library instead of a command-line executable</li>
</ul>

<h4 id="uninstall-a-previous-version">Uninstall a previous version</h4>

<p>To uninstall a previously installed version of Verovio from the system, run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-f</span> /usr/local/bin/verovio
<span class="nb">rm</span> <span class="nt">-rf</span> /usr/local/share/verovio
</code></pre></div></div>

<p>Occasionally there are problems with updates necessary to the <code class="language-plaintext highlighter-rouge">Makefile</code> when compiling a new version of Verovio with make. It may be necessary to clear out the automatically generated cmake files and regenerate them. To do that, run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">rm</span> <span class="nt">-rf</span> CMakeFiles CMakeCache.txt Makefile cmake_install.cmake
</code></pre></div></div>

<h3 id="windows-10">Windows 10</h3>

<p>To build Verovio on Windows 10 from the command-line, you will need to have <a href="https://visualstudio.microsoft.com/visual-cpp-build-tools">Microsoft C++ Build Tools</a> and <a href="https://sourceforge.net/projects/gnuwin32/">make</a> installed on your computer.</p>

<p>Run the following commands from the <em>x86 Native Tools Command Prompt for VS</em> (with administrator privileges):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> &lt;sourceCode&gt;/tools 
cmake ../cmake <span class="nt">-G</span> <span class="s2">"NMake Makefiles"</span>
nmake
nmake <span class="nb">install</span>
</code></pre></div></div>
<p>After the installation, add <code class="language-plaintext highlighter-rouge">&lt;sourceCode&gt;/tools</code> to the <a href="https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/">PATH</a> of your system.</p>

<p>When running the commands, the resource path should be provided explicitly with the following option:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">-r</span> <span class="s2">"C:/Program Files (x86)/Verovio/share/verovio"</span>
</code></pre></div></div>

<h3 id="xcode">Xcode</h3>

<p>For MacOS users, there is also an Xcode project in the Verovio root directory.</p>

<p>By default, humdrum support is turned off in Xcode. To turn in on, you need to use the <code class="language-plaintext highlighter-rouge">Verovio-Humdrum</code> building scheme.</p>

<h3 id="visual-studio">Visual Studio</h3>

<ul>
  <li>Install <a href="https://cmake.org">CMake</a></li>
  <li>Go into the tools folder of Verovio</li>
  <li>Execute <code class="language-plaintext highlighter-rouge">cmake ../cmake -DNO_PAE_SUPPORT=ON</code> (add <code class="language-plaintext highlighter-rouge">-DCMAKE_GENERATOR_PLATFORM=x64</code> for a x64 solution)</li>
  <li>Open the resulting <code class="language-plaintext highlighter-rouge">Verovio.sln</code> with Visual Studio and build it from there
    <h2 id="javascript-and-webassembly">JavaScript and WebAssembly</h2>
  </li>
</ul>

<h3 id="pre-build-versions">Pre-build versions</h3>

<p>The verovio.org <a href="https://github.com/rism-digital/verovio.org">GitHub repository</a> provides compiled versions of the JavaScript toolkit. The toolkit is available in three options.</p>
<ol>
  <li><strong>verovio-toolkit.js</strong> - in JavaScript (more precisely in <a href="https://asmjs.org">asm.js</a>)</li>
  <li><strong>verovio-toolkit-wasm.js</strong> â€“ in <a href="https://webassembly.org/">WebAssembly</a></li>
  <li><strong>verovio-toolkit-hum.js</strong> â€“ in JavaScript with the Humdrum support</li>
</ol>

<p>A build of each of these is provided by CI for the development version as well as for each <a href="https://github.com/rism-digital/verovio/releases">release</a>.</p>

<p>The latest release is always available from:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.verovio.org/javascript/latest/verovio-toolkit.js
</code></pre></div></div>

<p>The latest development version is available from:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.verovio.org/javascript/develop/verovio-toolkit.js
</code></pre></div></div>

<p>Previous releases are available from their corresponding directory, e.g.:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.verovio.org/javascript/2.7.1/verovio-toolkit.js
</code></pre></div></div>

<h4 id="npm">NPM</h4>

<p>The latest stable version is available via <a href="https://www.npmjs.com/package/verovio">NPM</a> registry. The version distributed via NPM it the WebAssembly build. It can be installed with:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>verovio
</code></pre></div></div>

<p>The homepage of the Verovio package includes <a href="https://www.npmjs.com/package/verovio#usage">documentation</a> on how to use it.</p>

<h3 id="basic-usage-of-the-toolkit">Basic usage of the toolkit</h3>

<p>For instructions on a basic usage of the JavaScript version of the toolkit, see the <a href="/web-based-notation/getting-started.html">Getting started</a> section of the <a href="/web-based-notation/">Tutorial 1: Web-based notation</a> chapter.</p>

<h3 id="building-the-toolkit">Building the toolkit</h3>

<p>To build the JavaScript toolkit you need to have the <a href="http://www.emscripten.org" target="_blank">Emscripten</a> compiler installed on your machine. You also need <a href="https://cmake.org">CMake</a>. You need to run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>emscripten
./buildToolkit <span class="nt">-H</span>
</code></pre></div></div>
<p>The toolkit will be written to:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./emscripten/build/verovio-toolkit.js
</code></pre></div></div>

<p>Building without <code class="language-plaintext highlighter-rouge">-H</code> will include the Humdrum support, which increases the size of the toolkit by about one third. In that case, the output will be written to <code class="language-plaintext highlighter-rouge">verovio-toolkit-hum.js</code>.</p>

<p>If you are building with another option set than previously, or if you want to regenerate the makefiles, add the option <code class="language-plaintext highlighter-rouge">-M</code>.</p>

<h2 id="python">Python</h2>

<h3 id="pre-build-versions-1">Pre-build versions</h3>

<p>Pre-build versions of the Python version of the toolkit are available through <a href="https://pypi.org/project/verovio/">PyPi</a> for every release since version 3.1.0.</p>

<p>The Python versions for which a pre-build is provided are 3.6, 3.7, 3.8 and 3.9. The platforms supported are MacOS 10.9, Linux with <a href="https://github.com/pypa/manylinux">manylinux</a> for x86-64, Win-32 and Win-amd64.</p>

<p>The latest release can be installed with:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>verovio
</code></pre></div></div>

<p>A previous version can be installed with:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> pip <span class="nb">install </span><span class="nv">verovio</span><span class="o">==</span>3.2.0
</code></pre></div></div>

<p>For all platforms or architectures for which a pre-build version is not available in the PyPi repository, a source distribution is available. It can be installed with the same command as above. This will automatically trigger the compilation of the package.</p>

<h3 id="basic-usage-of-the-toolkit-1">Basic usage of the toolkit</h3>

<p>Once installed, the Verovio tookit module can be imported with</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">verovio</span>
</code></pre></div></div>

<p>You can then create an instance of the toolkit and load data. For example:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tk</span> <span class="o">=</span> <span class="n">verovio</span><span class="p">.</span><span class="n">toolkit</span><span class="p">()</span>
<span class="n">tk</span><span class="p">.</span><span class="n">loadFile</span><span class="p">(</span><span class="s">"path-to-mei-file"</span><span class="p">)</span>
<span class="n">tk</span><span class="p">.</span><span class="n">getPageCount</span><span class="p">()</span>
</code></pre></div></div>

<p>Once loaded, the data can be rendered to a string:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">svg_string</span> <span class="o">=</span> <span class="n">tk</span><span class="p">.</span><span class="n">renderToSVG</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></div>

<p>It can also be rendered to a file:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tk</span><span class="p">.</span><span class="n">renderToSVGFile</span><span class="p">(</span> <span class="s">"page.svg"</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>
</code></pre></div></div>

<h4 id="setting-options">Setting options</h4>

<p>The options are set on the toolkit instance. For example, the following code will change the dimensions of the page and redo the layout for the previously loaded data:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">tk</span><span class="p">.</span><span class="n">setOption</span><span class="p">(</span> <span class="s">"pageHeight"</span><span class="p">,</span> <span class="s">"2100"</span> <span class="p">)</span>
<span class="n">tk</span><span class="p">.</span><span class="n">setOption</span><span class="p">(</span> <span class="s">"pageWidth"</span><span class="p">,</span> <span class="s">"2900"</span> <span class="p">)</span>
<span class="n">tk</span><span class="p">.</span><span class="n">setScale</span><span class="p">(</span><span class="mi">25</span><span class="p">)</span>
<span class="n">tk</span><span class="p">.</span><span class="n">redoLayout</span><span class="p">()</span>
<span class="n">tk</span><span class="p">.</span><span class="n">renderToSVGFile</span><span class="p">(</span> <span class="s">"page-scaled.svg"</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>
</code></pre></div></div>

<p>It is also possbile to collect options in a Python Dictionary and pass them as Json dump to the toolkit:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">json</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'pageHeight'</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s">'pageWidth'</span><span class="p">:</span> <span class="mi">1000</span>
<span class="p">}</span>
<span class="n">tk</span><span class="p">.</span><span class="n">setOptions</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">options</span><span class="p">))</span>    
<span class="n">tk</span><span class="p">.</span><span class="n">redoLayout</span><span class="p">()</span>
<span class="n">tk</span><span class="p">.</span><span class="n">renderToSVGFile</span><span class="p">(</span> <span class="s">"page-square.svg"</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span>
</code></pre></div></div>

<h3 id="building-the-toolkit-1">Building the toolkit</h3>

<p>To build the Python toolkit you need to have swig and swig-python installed on your machine (see <a href="http://swig.org" target="_blank">SWIG</a>) and the Python distutils package. Version 4.0 or newer of SWIG is recommended but older versions should work too.  To install SWIG in MacOS using <a href="http://brew.sh">Homebrew</a>, type the command <code class="language-plaintext highlighter-rouge">brew install swig</code>.</p>

<p>The toolkit needs to be built from from the root directory of the repository content. To build it in-place, run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python setup.py build_ext <span class="nt">--inplace</span>
</code></pre></div></div>

<p>If you want to install it, run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python setup.py build_ext
<span class="nb">sudo </span>python setup.py <span class="nb">install</span>
</code></pre></div></div>

<p>For building it with one or more specific options (e.g., without Plain and Easy support), run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python setup.py build_ext <span class="nt">--inplace</span> <span class="nt">--define</span> NO_PAE_SUPPORT
</code></pre></div></div>

<h4 id="building-a-python-wheel-locally">Building a Python wheel locally</h4>

<p>You can build a Python wheel locally with:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python setup.py bdist
</code></pre></div></div>
<p>For a source distribution, do:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python setup.py sdist
</code></pre></div></div>
<p>In both cases, the wheel will be written to the <code class="language-plaintext highlighter-rouge">./dist</code> directory.</p>

<h4 id="building-with-cmake">Building with CMake</h4>

<p>The Python toolkit can be built with <a href="https://cmake.org">CMake</a>, which can be significantly faster because parallel processing can be used. This is also the approach to recommend when developing because it will not rebuild the entire codebase when a change it made to a file but only the files that actually need to rebuilt.</p>

<p>For this approach to work you need at least version 3.13 of CMake because it uses the option <code class="language-plaintext highlighter-rouge">-B</code> introduced in that version of CMake. The steps are:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>bindings
cmake ../cmake <span class="nt">-B</span> python <span class="nt">-DBUILD_AS_PYTHON</span><span class="o">=</span>ON
<span class="nb">cd </span>python
make <span class="nt">-j8</span>
</code></pre></div></div>

<p>If you want to enable or disable other specific options, you can do:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmake ../cmake <span class="nt">-B</span> python <span class="nt">-DBUILD_AS_PYTHON</span><span class="o">=</span>ON <span class="nt">-DNO_PAE_SUPPORT</span><span class="o">=</span>ON
</code></pre></div></div>

<p><em>Installation with CMake has not be tested yet</em></p>

<h4 id="resources-for-versions-built-locally">Resources for versions built locally</h4>

<p>When using a version built locally, you usually have to specify the path to the Verovio resources. To do so, you can do</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">verovio</span>
<span class="n">tk</span> <span class="o">=</span> <span class="n">verovio</span><span class="p">.</span><span class="n">toolkit</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="n">tk</span><span class="p">.</span><span class="n">setResourcePath</span><span class="p">(</span><span class="s">"path-to-resource-dir"</span><span class="p">)</span>
</code></pre></div></div>

<p>Alternatively, you can set it before you create the instance of the toolkit</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">verovio</span>
<span class="n">verovio</span><span class="p">.</span><span class="n">setDefaultResourcePath</span><span class="p">(</span><span class="s">"path-to-resource-dir"</span><span class="p">)</span>
<span class="n">tk</span> <span class="o">=</span> <span class="n">verovio</span><span class="p">.</span><span class="n">toolkit</span><span class="p">()</span>
</code></pre></div></div>
<h2 id="other-bindings">Other bindings</h2>

<h3 id="java">Java</h3>

<p>To build the Java toolkit you need to have swig and swig-java installed on your machine (see <a href="http://swig.org" target="_blank">SWIG</a>) as well as <a href="https://maven.apache.org/">Maven</a>. You need to run:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>bindings/java
mvn package
mvn package
</code></pre></div></div>

<p>Note the <code class="language-plaintext highlighter-rouge">mvn package</code> command needs to be run twice. You can test it with the MEI and PAE examples. For example â€“ replace <code class="language-plaintext highlighter-rouge">X.X.X</code> with the appropriate version number:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>example-mei
javac <span class="nt">-cp</span> .:../target/VerovioToolkit-X.X.X.jar main.java 
java <span class="nt">-cp</span> .:../target/VerovioToolkit-X.X.X.jar main
</code></pre></div></div>

<p>This should write an <code class="language-plaintext highlighter-rouge">output.svg</code> file in the current directory. The PAE example will write the SVG to the standard output.</p>

<p>See <a href="https://github.com/rism-ch/verovio/issues/996">this</a> issue for SVG output problems on non US Ubuntu installations.</p>

<h3 id="cocoapods">CocoaPods</h3>

<p>You can use <a href="http://cocoapods.org/">CocoaPods</a> to install <code class="language-plaintext highlighter-rouge">Verovio</code> by adding it to your to your <code class="language-plaintext highlighter-rouge">Podfile</code>:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">platform</span> <span class="ss">:ios</span><span class="p">,</span> <span class="s1">'12.0'</span>
<span class="n">use_frameworks!</span>
<span class="n">target</span> <span class="s1">'MyApp'</span> <span class="k">do</span>
	<span class="n">pod</span> <span class="s1">'Verovio'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'https://github.com/rism-ch/verovio.git'</span><span class="p">,</span> <span class="ss">:branch</span> <span class="o">=&gt;</span> <span class="s1">'develop'</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Then, run the following command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pod <span class="nb">install</span>
</code></pre></div></div>

<p>To use Verovio in your iOS project import</p>
<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#import &lt;Verovio/Verovio-umbrella.h&gt;
</span></code></pre></div></div>

<p>See <a href="https://github.com/Noroxs/VerovioExample">https://github.com/Noroxs/VerovioExample</a> for an example how to use it. To build and run the example, you need to:</p>

<ul>
  <li>Navigate in the Terminal to the cloned directory</li>
  <li>Execute pod update</li>
  <li>Open the VerovioExample.xcworkspace and NOT the VerovioExample.xcodeproj</li>
  <li>Build and Run on any simulator or device</li>
</ul>

    </div>
</div>

<script>
    let options = {
        rootMargin: '60px'
    }
    window.addEventListener('DOMContentLoaded', () => {
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                const id = entry.target.getAttribute('id');
                if (entry.intersectionRatio > 0) {
                    // First deselect everything
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection`);
                    for (i = 0; i < sections.length; i++){
                        sections[i].classList.remove('selected');
                    }
                    // The one entering is marked as .on-screen
                    document.querySelector(`.toc-group a[href="#${id}"]`).classList.add('on-screen');
                    // Select the first that in .on-screen
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection.on-screen`);
                    sections[0].classList.add('selected');

                } else {
                    leaving = document.querySelector(`.toc-group a[href="#${id}"]`)
                    // Remove the .on-screen from the one leaving
                    leaving.classList.remove('on-screen');
                    sections = document.querySelectorAll(`.toc-group a.toc-subsection.on-screen`);
                    // If no other one is on screen, just leave things as they are
                    if (sections.length > 0) {
                        // Otherwise de-select the one that is leaving
                        leaving.classList.remove('selected');
                        // Selected the first .on-screen one and de-select the other ones
                        sections[0].classList.add('selected');
                        for (i = 1; i < sections.length; i++){
                            console.log(sections[i].getAttribute('id'))
                            sections[i].classList.remove('selected');
                        }
                    }
                }
            });
        }, options);

        // Track all sections that have an `id` applied
        document.querySelectorAll('h3[id]').forEach((section) => {
            observer.observe(section);
        });

        });
</script>



        </div>

        <footer class="hidden-print footer navbar-fixed-bottom">
            <p>
                
            </p>
        </footer>

        <script type="text/javascript">
        //<![CDATA[
            $(document).ready(function() {

                

            });
        //]]>
        </script>
    </body>
</html>
